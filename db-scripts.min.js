/*
 jQuery UI - v1.12.1 - 2017-10-04
 http://jqueryui.com
 Includes: widget.js, position.js, keycode.js, unique-id.js, widgets/autocomplete.js, widgets/menu.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Position 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI Keycode 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Unique ID 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Menu 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Autocomplete 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){c.ui=c.ui||{};c.ui.version="1.12.1";var m=0,p=Array.prototype.slice;c.cleanData=function(a){return function(d){var e,f,h;for(h=0;null!=(f=d[h]);h++)try{(e=c._data(f,"events"))&&e.remove&&c(f).triggerHandler("remove")}catch(k){}a(d)}}(c.cleanData);c.widget=function(a,d,e){var f={},h=a.split(".")[0];a=a.split(".")[1];var k=h+"-"+a;e||(e=d,d=c.Widget);c.isArray(e)&&(e=c.extend.apply(null,[{}].concat(e)));
c.expr[":"][k.toLowerCase()]=function(B){return!!c.data(B,k)};c[h]=c[h]||{};var q=c[h][a];var r=c[h][a]=function(B,F){if(!this._createWidget)return new r(B,F);arguments.length&&this._createWidget(B,F)};c.extend(r,q,{version:e.version,_proto:c.extend({},e),_childConstructors:[]});var w=new d;w.options=c.widget.extend({},w.options);c.each(e,function(B,F){c.isFunction(F)?f[B]=function(){function g(){return d.prototype[B].apply(this,arguments)}function l(n){return d.prototype[B].apply(this,n)}return function(){var n=
this._super,t=this._superApply;this._super=g;this._superApply=l;var v=F.apply(this,arguments);this._super=n;this._superApply=t;return v}}():f[B]=F});r.prototype=c.widget.extend(w,{widgetEventPrefix:q?w.widgetEventPrefix||a:a},f,{constructor:r,namespace:h,widgetName:a,widgetFullName:k});q?(c.each(q._childConstructors,function(B,F){var g=F.prototype;c.widget(g.namespace+"."+g.widgetName,r,F._proto)}),delete q._childConstructors):d._childConstructors.push(r);c.widget.bridge(a,r);return r};c.widget.extend=
function(a){for(var d=p.call(arguments,1),e=0,f=d.length,h,k;e<f;e++)for(h in d[e])k=d[e][h],d[e].hasOwnProperty(h)&&void 0!==k&&(c.isPlainObject(k)?a[h]=c.isPlainObject(a[h])?c.widget.extend({},a[h],k):c.widget.extend({},k):a[h]=k);return a};c.widget.bridge=function(a,d){var e=d.prototype.widgetFullName||a;c.fn[a]=function(f){var h="string"===typeof f,k=p.call(arguments,1),q=this;h?this.length||"instance"!==f?this.each(function(){var r=c.data(this,e);if("instance"===f)return q=r,!1;if(!r)return c.error("cannot call methods on "+
a+" prior to initialization; attempted to call method '"+f+"'");if(!c.isFunction(r[f])||"_"===f.charAt(0))return c.error("no such method '"+f+"' for "+a+" widget instance");var w=r[f].apply(r,k);if(w!==r&&void 0!==w)return q=w&&w.jquery?q.pushStack(w.get()):w,!1}):q=void 0:(k.length&&(f=c.widget.extend.apply(null,[f].concat(k))),this.each(function(){var r=c.data(this,e);r?(r.option(f||{}),r._init&&r._init()):c.data(this,e,new d(f,this))}));return q}};c.Widget=function(){};c.Widget._childConstructors=
[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=m++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();this.classesElementLookup={};d!==this&&(c.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===d&&this.destroy()}}),this.document=
c(d.style?d.ownerDocument:d.document||d),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){var a=this;this._destroy();c.each(this.classesElementLookup,
function(d,e){a._removeClass(e,d)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function(){return this.element},option:function(a,d){var e=a,f;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof a){e={};var h=a.split(".");a=h.shift();if(h.length){var k=e[a]=c.widget.extend({},this.options[a]);for(f=0;f<h.length-
1;f++)k[h[f]]=k[h[f]]||{},k=k[h[f]];a=h.pop();if(1===arguments.length)return void 0===k[a]?null:k[a];k[a]=d}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];e[a]=d}}this._setOptions(e);return this},_setOptions:function(a){for(var d in a)this._setOption(d,a[d]);return this},_setOption:function(a,d){"classes"===a&&this._setOptionClasses(d);this.options[a]=d;"disabled"===a&&this._setOptionDisabled(d);return this},_setOptionClasses:function(a){var d;for(d in a){var e=
this.classesElementLookup[d];if(a[d]!==this.options.classes[d]&&e&&e.length){var f=c(e.get());this._removeClass(e,d);f.addClass(this._classes({element:f,keys:d,classes:a,add:!0}))}}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(a){function d(h,k){var q;for(q=0;q<h.length;q++){var r=f.classesElementLookup[h[q]]||c();r=a.add?c(c.unique(r.get().concat(a.element.get()))):c(r.not(a.element).get());f.classesElementLookup[h[q]]=r;e.push(h[q]);k&&a.classes[h[q]]&&e.push(a.classes[h[q]])}}var e=[],f=this;a=c.extend({element:this.element,classes:this.options.classes||{}},a);this._on(a.element,{remove:"_untrackClassesElement"});a.keys&&d(a.keys.match(/\S+/g)||[],!0);a.extra&&d(a.extra.match(/\S+/g)||[]);return e.join(" ")},
_untrackClassesElement:function(a){var d=this;c.each(d.classesElementLookup,function(e,f){-1!==c.inArray(a.target,f)&&(d.classesElementLookup[e]=c(f.not(a.target).get()))})},_removeClass:function(a,d,e){return this._toggleClass(a,d,e,!1)},_addClass:function(a,d,e){return this._toggleClass(a,d,e,!0)},_toggleClass:function(a,d,e,f){f="boolean"===typeof f?f:e;var h="string"===typeof a||null===a;a={extra:h?d:e,keys:h?a:d,element:h?this.element:a,add:f};a.element.toggleClass(this._classes(a),f);return this},
_on:function(a,d,e){var f,h=this;"boolean"!==typeof a&&(e=d,d=a,a=!1);e?(d=f=c(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget());c.each(e,function(k,q){function r(){if(a||!0!==h.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof q?h[q]:q).apply(h,arguments)}"string"!==typeof q&&(r.guid=q.guid=q.guid||r.guid||c.guid++);var w=k.match(/^([\w:-]*)\s*(.*)$/),B=w[1]+h.eventNamespace;if(w=w[2])f.on(B,w,r);else d.on(B,r)})},_off:function(a,d){d=(d||
"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(d).off(d);this.bindings=c(this.bindings.not(a).get());this.focusable=c(this.focusable.not(a).get());this.hoverable=c(this.hoverable.not(a).get())},_delay:function(a,d){var e=this;return setTimeout(function(){return("string"===typeof a?e[a]:a).apply(e,arguments)},d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(d){this._addClass(c(d.currentTarget),null,"ui-state-hover")},mouseleave:function(d){this._removeClass(c(d.currentTarget),
null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(d){this._addClass(c(d.currentTarget),null,"ui-state-focus")},focusout:function(d){this._removeClass(c(d.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,d,e){var f,h=this.options[a];e=e||{};d=c.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d.target=this.element[0];if(a=d.originalEvent)for(f in a)f in d||(d[f]=a[f]);this.element.trigger(d,
e);return!(c.isFunction(h)&&!1===h.apply(this.element[0],[d].concat(e))||d.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,d){c.Widget.prototype["_"+a]=function(e,f,h){"string"===typeof f&&(f={effect:f});var k=f?!0===f||"number"===typeof f?d:f.effect||d:a;f=f||{};"number"===typeof f&&(f={duration:f});var q=!c.isEmptyObject(f);f.complete=h;f.delay&&e.delay(f.delay);if(q&&c.effects&&c.effects.effect[k])e[a](f);else if(k!==a&&e[k])e[k](f.duration,f.easing,h);else e.queue(function(r){c(this)[a]();
h&&h.call(e[0]);r()})}});(function(){function a(g,l,n){return[parseFloat(g[0])*(B.test(g[0])?l/100:1),parseFloat(g[1])*(B.test(g[1])?n/100:1)]}function d(g){var l=g[0];return 9===l.nodeType?{width:g.width(),height:g.height(),offset:{top:0,left:0}}:c.isWindow(l)?{width:g.width(),height:g.height(),offset:{top:g.scrollTop(),left:g.scrollLeft()}}:l.preventDefault?{width:0,height:0,offset:{top:l.pageY,left:l.pageX}}:{width:g.outerWidth(),height:g.outerHeight(),offset:g.offset()}}var e,f=Math.max,h=Math.abs,
k=/left|center|right/,q=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,B=/%$/,F=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==e)return e;var g=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");var l=g.children()[0];c("body").append(g);var n=l.offsetWidth;g.css("overflow","scroll");l=l.offsetWidth;n===l&&(l=g[0].clientWidth);g.remove();return e=n-l},getScrollInfo:function(g){var l=g.isWindow||
g.isDocument?"":g.element.css("overflow-x"),n=g.isWindow||g.isDocument?"":g.element.css("overflow-y");l="scroll"===l||"auto"===l&&g.width<g.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&g.height<g.element[0].scrollHeight?c.position.scrollbarWidth():0,height:l?c.position.scrollbarWidth():0}},getWithinInfo:function(g){var l=c(g||window),n=c.isWindow(l[0]),t=!!l[0]&&9===l[0].nodeType;return{element:l,isWindow:n,isDocument:t,offset:n||t?{left:0,top:0}:c(g).offset(),scrollLeft:l.scrollLeft(),
scrollTop:l.scrollTop(),width:l.outerWidth(),height:l.outerHeight()}}};c.fn.position=function(g){if(!g||!g.of)return F.apply(this,arguments);g=c.extend({},g);var l=c(g.of),n=c.position.getWithinInfo(g.within),t=c.position.getScrollInfo(n),v=(g.collision||"flip").split(" "),x={};var u=d(l);l[0].preventDefault&&(g.at="left top");var D=u.width;var z=u.height;var C=u.offset;var E=c.extend({},C);c.each(["my","at"],function(){var y=(g[this]||"").split(" ");1===y.length&&(y=k.test(y[0])?y.concat(["center"]):
q.test(y[0])?["center"].concat(y):["center","center"]);y[0]=k.test(y[0])?y[0]:"center";y[1]=q.test(y[1])?y[1]:"center";var G=r.exec(y[0]);var H=r.exec(y[1]);x[this]=[G?G[0]:0,H?H[0]:0];g[this]=[w.exec(y[0])[0],w.exec(y[1])[0]]});1===v.length&&(v[1]=v[0]);"right"===g.at[0]?E.left+=D:"center"===g.at[0]&&(E.left+=D/2);"bottom"===g.at[1]?E.top+=z:"center"===g.at[1]&&(E.top+=z/2);var L=a(x.at,D,z);E.left+=L[0];E.top+=L[1];return this.each(function(){var y,G=c(this),H=G.outerWidth(),I=G.outerHeight(),R=
parseInt(c.css(this,"marginLeft"),10)||0,S=parseInt(c.css(this,"marginTop"),10)||0,T=H+R+(parseInt(c.css(this,"marginRight"),10)||0)+t.width,U=I+S+(parseInt(c.css(this,"marginBottom"),10)||0)+t.height,A=c.extend({},E),M=a(x.my,G.outerWidth(),G.outerHeight());"right"===g.my[0]?A.left-=H:"center"===g.my[0]&&(A.left-=H/2);"bottom"===g.my[1]?A.top-=I:"center"===g.my[1]&&(A.top-=I/2);A.left+=M[0];A.top+=M[1];var V={marginLeft:R,marginTop:S};c.each(["left","top"],function(N,J){if(c.ui.position[v[N]])c.ui.position[v[N]][J](A,
{targetWidth:D,targetHeight:z,elemWidth:H,elemHeight:I,collisionPosition:V,collisionWidth:T,collisionHeight:U,offset:[L[0]+M[0],L[1]+M[1]],my:g.my,at:g.at,within:n,elem:G})});g.using&&(y=function(N){var J=C.left-A.left,P=J+D-H,O=C.top-A.top,Q=O+z-I,K={target:{element:l,left:C.left,top:C.top,width:D,height:z},element:{element:G,left:A.left,top:A.top,width:H,height:I},horizontal:0>P?"left":0<J?"right":"center",vertical:0>Q?"top":0<O?"bottom":"middle"};D<H&&h(J+P)<D&&(K.horizontal="center");z<I&&h(O+
Q)<z&&(K.vertical="middle");f(h(J),h(P))>f(h(O),h(Q))?K.important="horizontal":K.important="vertical";g.using.call(this,N,K)});G.offset(c.extend(A,{using:y}))})};c.ui.position={fit:{left:function(g,l){var n=l.within,t=n.isWindow?n.scrollLeft:n.offset.left,v=n.width,x=g.left-l.collisionPosition.marginLeft;n=t-x;var u=x+l.collisionWidth-v-t;l.collisionWidth>v?0<n&&0>=u?(t=g.left+n+l.collisionWidth-v-t,g.left+=n-t):g.left=0<u&&0>=n?t:n>u?t+v-l.collisionWidth:t:g.left=0<n?g.left+n:0<u?g.left-u:f(g.left-
x,g.left)},top:function(g,l){var n=l.within,t=n.isWindow?n.scrollTop:n.offset.top,v=l.within.height,x=g.top-l.collisionPosition.marginTop;n=t-x;var u=x+l.collisionHeight-v-t;l.collisionHeight>v?0<n&&0>=u?(t=g.top+n+l.collisionHeight-v-t,g.top+=n-t):g.top=0<u&&0>=n?t:n>u?t+v-l.collisionHeight:t:g.top=0<n?g.top+n:0<u?g.top-u:f(g.top-x,g.top)}},flip:{left:function(g,l){var n=l.within,t=n.offset.left+n.scrollLeft,v=n.width,x=n.isWindow?n.scrollLeft:n.offset.left,u=g.left-l.collisionPosition.marginLeft;
n=u-x;var D=u+l.collisionWidth-v-x;u="left"===l.my[0]?-l.elemWidth:"right"===l.my[0]?l.elemWidth:0;var z="left"===l.at[0]?l.targetWidth:"right"===l.at[0]?-l.targetWidth:0,C=-2*l.offset[0];if(0>n){if(t=g.left+u+z+C+l.collisionWidth-v-t,0>t||t<h(n))g.left+=u+z+C}else 0<D&&(t=g.left-l.collisionPosition.marginLeft+u+z+C-x,0<t||h(t)<D)&&(g.left+=u+z+C)},top:function(g,l){var n=l.within,t=n.offset.top+n.scrollTop,v=n.height,x=n.isWindow?n.scrollTop:n.offset.top,u=g.top-l.collisionPosition.marginTop;n=u-
x;var D=u+l.collisionHeight-v-x;u="top"===l.my[1]?-l.elemHeight:"bottom"===l.my[1]?l.elemHeight:0;var z="top"===l.at[1]?l.targetHeight:"bottom"===l.at[1]?-l.targetHeight:0,C=-2*l.offset[1];if(0>n){if(t=g.top+u+z+C+l.collisionHeight-v-t,0>t||t<h(n))g.top+=u+z+C}else 0<D&&(t=g.top-l.collisionPosition.marginTop+u+z+C-x,0<t||h(t)<D)&&(g.top+=u+z+C)}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,
arguments);c.ui.position.fit.top.apply(this,arguments)}}}})();c.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};c.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.ui.safeActiveElement=function(a){try{var d=
a.activeElement}catch(e){d=a.body}d||(d=a.body);d.nodeName||(d=a.body);return d};c.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},
"click .ui-menu-item":function(a){var d=c(a.target),e=c(c.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&e.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var d=
c(a.target).closest(".ui-menu-item"),e=c(a.currentTarget);d[0]===e[0]&&(this._removeClass(e.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(a,e))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,d){var e=this.active||this.element.find(this.options.items).eq(0);d||this.focus(a,e)},blur:function(a){this._delay(function(){c.contains(this.element[0],c.ui.safeActiveElement(this.document[0]))||this.collapseAll(a)})},keydown:"_keydown"});this.refresh();
this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var a=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();a.children().each(function(){var d=
c(this);d.data("ui-menu-submenu-caret")&&d.remove()})},_keydown:function(a){var d=!0;switch(a.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(a);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case c.ui.keyCode.HOME:this._move("first","first",a);break;case c.ui.keyCode.END:this._move("last","last",a);break;case c.ui.keyCode.UP:this.previous(a);break;case c.ui.keyCode.DOWN:this.next(a);break;case c.ui.keyCode.LEFT:this.collapse(a);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&
this.expand(a);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(a);break;case c.ui.keyCode.ESCAPE:this.collapse(a);break;default:d=!1;var e=this.previousFilter||"";var f=!1;var h=96<=a.keyCode&&105>=a.keyCode?(a.keyCode-96).toString():String.fromCharCode(a.keyCode);clearTimeout(this.filterTimer);h===e?f=!0:h=e+h;e=this._filterMenuItems(h);e=f&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e;e.length||(h=String.fromCharCode(a.keyCode),e=this._filterMenuItems(h));
e.length?(this.focus(a,e),this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}d&&a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a=this,d=this.options.icons.submenu;var e=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);
var f=e.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var k=c(this),q=k.prev(),r=c("<span>").data("ui-menu-submenu-caret",!0);a._addClass(r,"ui-menu-icon","ui-icon "+d);q.attr("aria-haspopup","true").prepend(r);k.attr("aria-labelledby",q.attr("id"))});this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front");f=e.add(this.element).find(this.options.items);f.not(".ui-menu-item").each(function(){var k=c(this);a._isDivider(k)&&
a._addClass(k,"ui-menu-divider","ui-widget-content")});e=f.not(".ui-menu-item, .ui-menu-divider");var h=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(e,"ui-menu-item")._addClass(h,"ui-menu-item-wrapper");f.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,d){if("icons"===
a){var e=this.element.find(".ui-menu-icon");this._removeClass(e,null,this.options.icons.submenu)._addClass(e,null,d.submenu)}this._super(a,d)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,d){this.blur(a,a&&"focus"===a.type);this._scrollIntoView(d);this.active=d.first();var e=this.active.children(".ui-menu-item-wrapper");this._addClass(e,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",
e.attr("id"));e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(e,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);e=d.children(".ui-menu");e.length&&a&&/^mouse/.test(a.type)&&this._startOpening(e);this.activeMenu=d.parent();this._trigger("focus",a,{item:d})},_scrollIntoView:function(a){if(this._hasScroll()){var d=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0;var e=parseFloat(c.css(this.activeMenu[0],
"paddingTop"))||0;d=a.offset().top-this.activeMenu.offset().top-d-e;e=this.activeMenu.scrollTop();var f=this.activeMenu.height();a=a.outerHeight();0>d?this.activeMenu.scrollTop(e+d):d+a>f&&this.activeMenu.scrollTop(e+d-f+a)}},blur:function(a,d){d||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var d=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,d){clearTimeout(this.timer);this.timer=this._delay(function(){var e=d?this.element:c(a&&a.target).closest(this.element.find(".ui-menu"));
e.length||(e=this.element);this._close(e);this.blur(a);this._removeClass(e.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!c(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var d=this.active&&
this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(a,d))},expand:function(a){var d=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(a,d)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,d,e){var f;this.active&&(f="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.find(this.options.items)[d]());this.focus(e,f)},nextPage:function(a){var d;if(!this.active)this.next(a);else if(!this.isLastItem())if(this._hasScroll()){var e=this.active.offset().top;var f=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=
c(this);return 0>d.offset().top-e-f});this.focus(a,d)}else this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(a){var d;if(!this.active)this.next(a);else if(!this.isFirstItem())if(this._hasScroll()){var e=this.active.offset().top;var f=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=c(this);return 0<d.offset().top-e+f});this.focus(a,d)}else this.focus(a,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(a){this.active=this.active||c(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,d)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(c.trim(c(this).children(".ui-menu-item-wrapper").text()))})}});
c.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,d,e,f=this.element[0].nodeName.toLowerCase(),h="textarea"===f;f="input"===f;this.isMultiLine=h||!f&&this._isContentEditable(this.element);this.valueMethod=this.element[h||
f?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly"))d=e=a=!0;else{d=e=a=!1;var q=c.ui.keyCode;switch(k.keyCode){case q.PAGE_UP:a=!0;this._move("previousPage",k);break;case q.PAGE_DOWN:a=!0;this._move("nextPage",k);break;case q.UP:a=!0;this._keyEvent("previous",k);break;case q.DOWN:a=!0;this._keyEvent("next",k);break;case q.ENTER:this.menu.active&&(a=!0,k.preventDefault(),
this.menu.select(k));break;case q.TAB:this.menu.active&&this.menu.select(k);break;case q.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(k),k.preventDefault());break;default:d=!0,this._searchTimeout(k)}}},keypress:function(k){if(a)a=!1,this.isMultiLine&&!this.menu.element.is(":visible")||k.preventDefault();else if(!d){var q=c.ui.keyCode;switch(k.keyCode){case q.PAGE_UP:this._move("previousPage",k);break;case q.PAGE_DOWN:this._move("nextPage",k);break;
case q.UP:this._keyEvent("previous",k);break;case q.DOWN:this._keyEvent("next",k)}}},input:function(k){e?(e=!1,k.preventDefault()):this._searchTimeout(k)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(k){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(k),this._change(k))}});this._initSource();this.menu=c("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete",
"ui-front");this._on(this.menu.element,{mousedown:function(k){k.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(k,q){if(this.isNewMenu&&(this.isNewMenu=!1,k.originalEvent&&/^mouse/.test(k.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){c(k.target).trigger(k.originalEvent)});return}var r=q.item.data("ui-autocomplete-item");
!1!==this._trigger("focus",k,{item:r})&&k.originalEvent&&/^key/.test(k.originalEvent.type)&&this._value(r.value);(r=q.item.attr("aria-label")||r.value)&&c.trim(r).length&&(this.liveRegion.children().hide(),c("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(k,q){var r=q.item.data("ui-autocomplete-item"),w=this.previous;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=w,this._delay(function(){this.previous=w;this.selectedItem=r}));
!1!==this._trigger("select",k,{item:r})&&this._value(r.value);this.term=this._value();this.close(k);this.selectedItem=r}});this.liveRegion=c("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();
this.liveRegion.remove()},_setOption:function(a,d){this._super(a,d);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&d&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var d=this.menu.element[0];return a.target===this.element[0]||a.target===d||c.contains(d,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?c(a):
this.document.find(a).eq(0));a&&a[0]||(a=this.element.closest(".ui-front, dialog"));a.length||(a=this.document[0].body);return a},_initSource:function(){var a=this;if(c.isArray(this.options.source)){var d=this.options.source;this.source=function(f,h){h(c.ui.autocomplete.filter(d,f.term))}}else if("string"===typeof this.options.source){var e=this.options.source;this.source=function(f,h){a.xhr&&a.xhr.abort();a.xhr=c.ajax({url:e,data:f,dataType:"json",success:function(k){h(k)},error:function(){h([])}})}}else this.source=
this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var d=this.term===this._value(),e=this.menu.element.is(":visible"),f=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!d||d&&!e&&!f)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,d){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(d);if(!1!==this._trigger("search",d))return this._search(a)},_search:function(a){this.pending++;
this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return c.proxy(function(d){a===this.requestIndex&&this.__response(d);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},
close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:c.map(a,function(d){return"string"===typeof d?{label:d,value:d}:c.extend({},d,{label:d.label||d.value,
value:d.value||d.label})})},_suggest:function(a){var d=this.menu.element.empty();this._renderMenu(d,a);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(c.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,d){var e=this;c.each(d,
function(f,h){e._renderItemData(a,h)})},_renderItemData:function(a,d){return this._renderItem(a,d).data("ui-autocomplete-item",d)},_renderItem:function(a,d){return c("<li>").append(c("<div>").text(d.label)).appendTo(a)},_move:function(a,d){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](d);else this.search(null,d)},widget:function(){return this.menu.element},
_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,d){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,d),d.preventDefault()},_isContentEditable:function(a){if(!a.length)return!1;var d=a.prop("contentEditable");return"inherit"===d?this._isContentEditable(a.parent()):"true"===d}});c.extend(c.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,d){var e=new RegExp(c.ui.autocomplete.escapeRegex(d),
"i");return c.grep(a,function(f){return e.test(f.label||f.value||f)})}});c.widget("ui.autocomplete",c.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){this._superApply(arguments);if(!this.options.disabled&&!this.cancelSearch){var d=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults;this.liveRegion.children().hide();
c("<div>").text(d).appendTo(this.liveRegion)}}})});function showDBNos(){var c=$("#main .db-name:visible").length,m=$("#show-db-no");m.length&&(70>c?(dbNoS=c.toString(),$("#db-no").text(dbNoS),1===c&&m.html(m.html().replace("Databases","Database")),m.attr("class","show")):m.attr("class","hidden").attr("aria-hidden","true"))}
function defaultAuto(c,m){c.autocomplete({source:function(p,a){$.getJSON({url:"https://widgets.ebscohost.com/prod/simplekey/autocomplete/autocomp.php",data:{q:encodeURIComponent(p.term)}}).done(function(d){d=JSON.parse(d);var e=[];d=$.map(d,function(h){return[h]})[2];for(var f=0;f<d.length;f++)e.push(d[f].term),a(e)}).fail(function(d,e,f){ga("send","event","eds autosuggest","error",f)})},select:function(p,a){a.item&&c.val(a.item.value);"quick"!==m?submitSearch(c.val()):c.closest("form").submit()}})}
$("#multi-search").on("submit",function(c){c.preventDefault();submitSearch($("#dbpage-query").val())});
function submitSearch(c){var m=/^(ebsco$|proquest|academic search complete|films on demand|cinahl|j( )?stor|ethnologue|gale (virtual|ebook)|gvrl|cq|onesearch|oxford art|grove|art( )?stor|ebooks|kanopy|google scholar|business source|opposing viewpoints|dailies|psycarticles|^eric$|education research complete|greenfile|omnigraphic|health reference series|pubmed|medline|naxos|newsbank|ovid|oxford english|oed|science( )?direct|kanopy|digital theat|masterfile|wiley|sage)/i;ga("send","event","search","submit",
c);!0===/lex[ui]s(( )?nex[iu]s)?|nex[iu]s/.test(c)?location.href="special.php?pageTitle=nexis-uni":!0===m.test(c)?(console.log("found match"),location.href="index.php?az&query="+encodeURIComponent(c)):(c="https://www.library.losrios.edu/onesearch/?query="+encodeURIComponent(c),"yes"===getCookie("newWindowLinks")?window.open(c):location.href=c)}
$(function(){defaultAuto($("#dbpage-query"));$(".db-name").each(function(){for(var p=$(this).html().split(" "),a=/^Ahfs|^Apa$|^Dsm|^Ebsco|Cinahl|Cq|Eric|^Mas$|Medline|^Sage/,d=0;d<p.length;d++)a.test(p[d])?p[d]=p[d].toUpperCase():"Ebook"===p[d]&&(p[d]="eBook");p=p.join(" ");$(this).html(p)});var c=$("#main-nav"),m=$("#nav-label");781>$(window).width()&&c.addClass("hidden");m.on("click",function(){c.toggleClass("hidden")});$(".category").each(function(){var p=$(this);p.removeClass("active hidden");
var a=p.find("li");a.hasClass("active")&&a.is(":visible")?p.addClass("active"):p.addClass("hidden")});checkZeros();$("dt").prev("dd").addClass("last-dd");$("#trial-dbs .db-desc").each(function(){var p=$(this),a=p.html(),d=$.trim(a).substring(0,60).split(" ").slice(0,-1).join(" ")+'... <button class="trial-desc-exp" type="button">more</button>';p.html(d);p.show();$(".trial-desc-exp").on("click",function(){$(this).parent().html(a)})})});
$("#dbpage-query").on("focus",function(){var c=$(this),m=$("#form-remainder");showSearch(m,c);$("html").on("click",function(p){$(p.target).parents("#multi-search").length||m.hasClass("hidden")||hideSearch(m,c)})});$(".alpha").each(function(){0===$(this).find("li").length&&$(this).addClass("hidden")});
function checkZeros(){if(!$(".problem-description").length&&!$("#main .special").length&&($("#zero-notice").remove(),0===$("#main .active:visible").length)){var c=$("#main");c.append('<div id="zero-notice">There are no databases fitting the criteria you indicated. Sorry!</div>');c.append($("#multi-search"));$("#dbpage-query").addClass("form-emphasis");$("#form-remainder").removeClass("hidden")}}
function showSearch(c,m){m.addClass("form-emphasis");c.slideDown().removeClass("hidden");$("#dbpage-query-submit").removeClass("hidden");$("#form-closer").on("click",function(p){p.preventDefault();hideSearch(c,m)})}function hideSearch(c,m){$("#dbpage-query-submit").addClass("hidden");c.slideUp().addClass("hidden");m.removeClass("form-emphasis");m.on("click",function(){showSearch(c,m)})}
$("#main-nav li a").each(function(){var c=$("#title-cat").text(),m=$("#title-alpha").text().toLowerCase(),p=$(this),a=p.text();c!==a&&m!==a||p.addClass("current")});$(".format-links").each(function(){var c=$(this);c.find("a").text()===$("#title-format").text()&&c.addClass("current")});$(".db-name").on("click",function(){"_blank"!==$(this).attr("target")&&$("#loader").removeClass("hidden");var c=$(this).text();ga("send","event","databases","click",c)});
$("#subject-nav a").on("click",function(){ga("send","event","navigation","limit","subject")});$("#alpha-nav a").on("click",function(){ga("send","event","navigation","limit","alpha")});$("#show-all").on("click",function(){ga("send","event","button","click","show all")});$(".format-links a").on("click",function(){ga("send","event","navigation","limit","type")});$("#pubfinder a").on("click",function(){ga("send","event","link","click","Publication Finder")});
$("#type-filter button").on("click",function(){var c=$(this).text();ga("send","event","filters","click",c)});$("#dbpage-query").on("focus",function(){ga("send","event","search form","activate")});function setCookie(c){var m="";c.exp&&(m=86400,"hours"===c.unit?m/=24:"minutes"===c.unit?m=60:"months"===c.unit&&(m*=30),m="max-age="+c.exp*m+";");document.cookie=c.name+"="+c.value+"; "+m+"path=/;domain=losrios.edu;secure=true"}
$(".headnav a, #choose-library button").on("click",function(){var c=$(this).text().toLowerCase();setCookie({name:"homeLibrary",value:c,exp:30})});function getCookie(c){c+="=";for(var m=document.cookie.split(";"),p=0;p<m.length;p++){for(var a=m[p];" "==a.charAt(0);)a=a.substring(1);if(0===a.indexOf(c))return a.substring(c.length,a.length)}return""}
function homeLibEls(c){var m={arc:{cust:"amerriv",fod:"240535",gale:"sacr22807",singleCol:"a"},crc:{cust:"cosum",fod:"237206",gale:"sacr73031",singleCol:"c"},flc:{cust:"ns015092",fod:"237742",gale:"sacr88293",singleCol:"f"},scc:{cust:"sacram",fod:"106093",gale:"cclc_sac",singleCol:"s"}};$("#"+c+"-link").addClass("homelib");var p=function(d){d=d.split("-");var e=new Date;e.setFullYear(d[0],d[1]-1,d[2]);return e},a=new Date;$(".db-entry").each(function(){var d=$(this);d.data("college")&&-1===d.data("college").indexOf(m[c].singleCol)&&
d.hide();if(d.data("expiration")&&""!==d.data("expiration")){var e=p(d.data("expiration"));e.setHours(23,59,59);a>e&&d.hide()}d.data("startdate")&&""!==d.data("startdate")&&(e=p(d.data("startdate")),e.setHours(0),a<e?(e=d.find(".db-name"),e.hide().after(e.text()),d.find(".open-db-search").length&&d.find(".open-db-search").hide()):d.find(".start-note").hide())});0===$("#trial-dbs .db-entry:visible").length&&$("#trial-dbs").hide();$(".db-name:contains(OneSearch)").attr("href","https://caccl-lrccd.primo.exlibrisgroup.com/discovery/search?vid=01CACCL_LRCCD:"+
c);$(".db-name:contains(Films on Demand)").attr("href","https://ezproxy.losrios.edu/login?url=http://fod.infobase.com/PortalPlayLists.aspx?wid="+m[c].fod).data("proxy",!0);setTimeout(function(){$("#library-help-content a").on("click",function(){var d=$(this);d.text().length?d=d.text():d.find("img").length?(b=d.find("img"),d=b.attr("alt").length?b.attr("alt"):""):d="";ga("send","event",""+c+" box","click",d)})},800);showDBNos()}
function checkCookies(c){"homeLibrary"===c?((c=getCookie(c))?homeLibEls(c):showDBNos(),console.log(c)):"newWindowLinks"===c?"yes"===getCookie(c)&&($("#newwin-check").prop("checked",!0),$(".db-name, .headnav a, #pubfinder a, #multi-search").attr("target","_blank"),setTimeout(function(){$("#library-help-content a").attr("target","_blank")},1E3)):"lrGAOptOut"===c&&"y"===getCookie(c)&&($("#ga-status").prepend(" You have opted out of tracking. "),c=$("#ga-opt-out"),c.html(c.html().replace(" &amp; opt out",
"")))}$("#newwin-check").on("click",function(){var c=$(this),m=$(".db-name, .search-one-db, #library-help-content a, .headnav a, #pubfinder a");c.is(":checked")?(setCookie({name:"newWindowLinks",value:"yes",exp:30}),m.attr("target","_blank"),$("#search-db").prop("checked",!1)&&$("#multi-search").attr("target","_blank")):(setCookie({name:"newWindowLinks",value:"no",exp:1}),m.removeAttr("target"),$("#multi-search").removeAttr("target"))});checkCookies("homeLibrary");checkCookies("newWindowLinks");checkCookies("lrGAOptOut");
$("#choose-library button").on("click",function(){var c="&";""===location.search&&(c="?");location.href="https://"+location.hostname+location.pathname+location.search+c+"college="+$(this).text()});var currentURL=location.href;currentURL.match("college=")&&(currentURL=currentURL.replace(/(\?|&)college.*/,""),history.replaceState(currentURL,document.title,currentURL));currentURL.match(/logged(in|out)/)&&(currentURL=currentURL.replace(/\?logged.*/,""),history.replaceState(currentURL,document.title,currentURL));
$(".open-db-search").on("click",function(){var c=$(this),m="";"yes"===getCookie("newWindowLinks")&&(m=' target="_blank" ');var p=c.nextAll("h3").find(".db-name"),a=p.text(),d=a.toLowerCase();d=d.replace(/ /g,"-");var e=c.nextAll("h3").find(".vendor").text().toLowerCase();e=e.replace(/[\(\):]/g,"");e=e.replace(/ /g,"-");var f=document.getElementById(d);$(".open-db-search").removeClass("hidden");var h=$(".search-one-db");if(f)c.addClass("hidden"),h.hide(),c.next(h).fadeIn(),document.getElementById(d).focus();
else{h.hide();f=p.attr("href");var k="";-1<f.indexOf("ehost")&&(k='<input type="hidden" name="ehost" value="'+f.split(/[= ]+/).pop()+'">');m="<form onsubmit=\"ga('send', 'event', 'quick search', 'submit', '"+a+'\');" class="search-one-db" method="post" action="search-db.php" '+m+'><label class="search-one-db-l" for="'+d+'">Search '+a+'</label><input name="query" id="'+d+'" type="text"><input type="hidden" name="vendor" value="'+e+'"><input type="hidden" name="db-name" value="'+d+'">'+k+'<input type="hidden" name="db-url" value="'+
encodeURIComponent(p.attr("href"))+'"><button class="search-btn" type="submit"><img height="16" width="16" src="search.png" alt="search"></button></form>';c.addClass("hidden");c.after(m);c.next(h).fadeIn();c=c.next(h).find(":text");c.focus();defaultAuto(c,"quick")}});$("#ga-opt-out").on("click",function(c){c.preventDefault();var m=screen.availHeight;c=.7*m;m*=.15;var p=screen.width/2-350,a=$(this).attr("href");window.open(a,"optOut","height="+c+", width=700, menubar=no, left="+p+", top="+m).focus()});
$("#remove-proxy").on("click",function(){removeProxy();setCookie({name:"dbProxy",value:"removed"})});
$("#force-login").on("click",function(){setCookie({name:"ezproxyrequireauthenticate2",value:"2"});$(this).hide();$('<p class="special" style="display:none;">This computer will now see login prompts when accessing resources. <button id="reset-login" type="button">Reset </button></p>').insertAfter($(this)).fadeIn();$("#reset-login").on("click",function(){resetLogin($(this))});$("#remove-proxy").fadeOut();$("#sso").show()});var proxySet=getCookie("dbProxy");"removed"===proxySet&&removeProxy();
function resetLogin(c){setCookie({name:"ezproxyrequireauthenticate2",value:"0"});c.closest("aside").fadeOut();$("#sso").fadeOut();$("#remove-proxy").fadeIn()}$("#reset-login").on("click",function(){resetLogin($(this))});$("#reset-login").length&&$("#sso").show();
function removeProxy(){$(".db-name").each(function(){var m=$(this).attr("href");if(-1<m.indexOf("//0-")){var p=m.replace("//0-","//");-1<m.indexOf("https")&&(m=p.split(".edu/"),m[0]=m[0].replace(/\-/g,".").replace(/$/,".edu/"),p=m.join(""),console.log(p));p=p.replace(".lasiii.losrios.edu","");$(this).attr("href",p)}else-1<m.indexOf("ezproxy")&&(p=m.replace(/https:\/\/ezproxy\.losrios\.edu\/login\?(auth=custom&)?url=/,""),$(this).attr("href",p),$("#sso").hide())});var c=$("#proxy");$("#remove-proxy").attr("id",
"add-proxy").html("&#8635; Restore proxy string to URLs");$('<p class="special">Proxy string has been removed from URLs; databases may not be accessible.</p>').hide().prependTo(c).fadeIn();$("#add-proxy").on("click",function(){setCookie({name:"dbProxy",value:"restored"});c.find("p").remove();c.fadeOut("fast");location.reload()})}$("#disable-sso").on("click",function(){location.href="https://ezproxy.losrios.edu/login?auth=custom"});
(function(){""!==getCookie("ezproxy")&&($("#proxy-status").html("in"),$("#proxy-toggle").html("Sign out"))})();$("#proxy-toggle").on("click",function(){""!==getCookie("ezproxy")?location.href="https://ezproxy.losrios.edu/logout":location.href="https://ezproxy.losrios.edu"});(function(){var c=$(".proxy-dialog");c.length&&(c.fadeIn(),setTimeout(function(){c.fadeOut()},1500))})();
function showNote(c){if("hide"!==getCookie("dbHideAlert")){var m=new Date,p=function(e){e=e.split("-");return new Date(e)},a=new Date(1970);c.start&&(a=p(c.start));var d=new Date(3E3);c.end&&(d=p(c.end));c=c.message||"";m>=a&&m<=d&&""!==c&&($('<p id="db-alert" role="alert" style="display:none;">'+c+'<button type="button" id="message-dismiss">Hide this message</button></p>').prependTo($("#main")).fadeIn(),$("#message-dismiss").on("click",function(){$("#db-alert").fadeOut();setCookie({name:"dbHideAlert",
value:"hide",exp:2})}))}};