var dbNames="Academic Search Complete;ACLS Humanities E-Book;America: History and Life with Full Text;Artstor;Auto Repair Reference Center;BIR Entertainment;Book Index with Reviews;Business Source Complete;CINAHL Plus with Full Text;Communication & Mass Media Complete;Consumer Health Complete;CountryWatch;CQ Researcher;Criminal Justice Abstracts with Full Text;eBook Collection;Ebooks;EBSCO;Education Research Complete;Environment Complete;ERIC;Explora;Films on Demand;Gale;Gale Virtual Reference Library;Google Scholar;GreenFILE;Grove Art Online;Health Source: Consumer Edition;Health Source: Nursing/Academic Edition;International Bibliography of Theatre & Dance with Full Text;JSTOR;Kanopy;LexisNexis Academic;Library, Information Science & Technology Abstracts;Literary Reference Center Plus;MasterFILE Premier;MEDLINE;Military & Government Collection;Naxos Music Library;Naxos Music Library Jazz Collection;News;Newspaper Source Plus;OneSearch;Opposing Viewpoints in Context;Oxford Art Online;Oxford English Dictionary;PsycARTICLES;Psychology & Behavioral Sciences Collection;PubMed;Regional Business News;Rehabilitation Reference Center;Religion & Philosophy Collection;RCL;Resources for College Libraries;Safari Books Online;Salem Press;Small Business Reference Center;ScienceDirect;Scholarly Journals;SocINDEX with Full Text;Statista;Trade Publications;Video".split(";");
function showDBNos(){var c=$("#main .db-name:visible").length,d=$("#show-db-no");70>c?(dbNoS=c.toString(),$("#db-no").text(dbNoS),1===c&&d.html(d.html().replace("Databases","Database")),d.attr("class","show")):d.attr("class","hidden").attr("aria-hidden","true")}
$(function(){$(".db-name").each(function(){$(this).text($(this).text().replace("Acls","ACLS").replace("Cinahl","CINAHL").replace("Cq","CQ").replace("Ebook Coll","eBook Coll").replace("Eric","ERIC").replace("Medline","MEDLINE"))});var c=$("#main-nav"),d=$("#nav-label");781>$(window).width()&&c.addClass("hidden");d.on("click",function(){c.toggleClass("hidden")});$(".category").each(function(){var c=$(this);c.removeClass("active hidden");c.find("li").hasClass("active")?c.addClass("active"):c.addClass("hidden")});
checkZeros();$("dt").prev("dd").addClass("last-dd");$("#trial-dbs .db-desc").each(function(){var c=$(this),d=c.html(),h=$.trim(d).substring(0,60).split(" ").slice(0,-1).join(" ")+'... <button class="trial-desc-exp" type="button">more</button>';c.html(h);c.show();$(".trial-desc-exp").on("click",function(){$(this).parent().html(d)})})});$("#dbpage-query").on("focus",function(){showSearch($("#form-remainder"),$(this))});$(".alpha").each(function(){0===$(this).find("li").length&&$(this).addClass("hidden")});
function checkZeros(){if(!$(".problem-description").length&&!$("#main .special").length&&($("#zero-notice").remove(),0===$("#main .active").length)){var c=$("#main");c.append('<div id="zero-notice">There are no databases fitting the criteria you indicated. Sorry!</div>');c.append($("#multi-search"));$("#dbpage-query").addClass("form-emphasis");$("#form-remainder").removeClass("hidden")}}
function showSearch(c,d){d.addClass("form-emphasis");c.slideDown().removeClass("hidden");$("#form-closer").on("click",function(f){f.preventDefault();hideSearch(c,d)});$("#search-db").on("click",function(){$("#dbpage-query").autocomplete({source:function(c,d){var f=$.ui.autocomplete.filter(dbNames,c.term);d(f.slice(0,5))},select:function(c,d){d.item&&$(this).val(d.item.value);$("#multi-search").submit()}})})}
function hideSearch(c,d){c.slideUp().addClass("hidden");d.removeClass("form-emphasis");d.on("click",function(){showSearch(c,d)})}$("#main-nav li a").each(function(){var c=$("#title-cat").text(),d=$("#title-alpha").text().toLowerCase(),f=$(this),g=f.text();c!==g&&d!==g||f.addClass("current")});$(".format-links").each(function(){var c=$(this);c.find("a").text()===$("#title-format").text()&&c.addClass("current")});
$("#multi-search input[type=radio]").on("click",function(){var c=$("#multi-search");$(".search-exp").each(function(){e=$(this);e.hasClass("hidden")||e.slideUp().addClass("hidden")});a=$(this);b=$("#dbpage-query");checkCookies();"yes"===getCookie("newWindowLinks")&&c.attr("target","_blank");a.is("#search-db")?(c.removeAttr("target"),b.autocomplete({disabled:!1,source:dbNames,select:function(d,f){f.item&&b.val(f.item.value);c.submit()}})):b.autocomplete({disabled:!0});a.parent().next().slideDown().removeClass("hidden")});
$(".db-name").on("click",function(){"_blank"!==$(this).attr("target")&&$("#loader").removeClass("hidden");var c=$(this).text();ga("send","event","databases","click",c)});$("#subject-nav a").on("click",function(){ga("send","event","navigation","limit","subject")});$("#alpha-nav a").on("click",function(){ga("send","event","navigation","limit","alpha")});$("#show-all").on("click",function(){ga("send","event","button","click","show all")});
$(".format-links a").on("click",function(){ga("send","event","navigation","limit","type")});$("#pubfinder a").on("click",function(){ga("send","event","link","click","Publication Finder")});$("#type-filter button").on("click",function(){var c=$(this).text();ga("send","event","filters","click",c)});$("#dbpage-query").on("focus",function(){ga("send","event","search form","activate")});
$("#multi-search").on("submit",function(){var c=$('input[name="search-type"]:checked').val(),d=$("#dbpage-query").val();ga("send","event","search","submit - "+c,d)});function setCookie(c,d,f){if(null===f)f="";else{var g=new Date;g.setTime(g.getTime()+864E5*f);f="expires="+g.toUTCString()+"; "}document.cookie=c+"="+d+"; "+f+"path=/;domain=losrios.edu"}$(".headnav a, #choose-library button").on("click",function(){var c=$(this).text().toLowerCase();setCookie("homeLibrary",c,10)});
function getCookie(c){c+="=";for(var d=document.cookie.split(";"),f=0;f<d.length;f++){for(var g=d[f];" "==g.charAt(0);)g=g.substring(1);if(0===g.indexOf(c))return g.substring(c.length,g.length)}return""}
function homeLibEls(c){var d,f,g;switch(c){case "arc":d="amerriv";f="240535";g="a";break;case "scc":d="sacram";f="106093";g="s";break;case "crc":d="cosum";f="237206";g="c";break;case "flc":d="ns015092";f="237742";g="f";break;default:d=""}$("#"+c+"-link").addClass("homelib");$.get("help/"+c+".php",function(c){$("#library-help-content").html(c)},"html");var h=c.toUpperCase();$("#library-help h2").html("From the "+h+" Library");$("#pubfinder a").attr("href","http://search.ebscohost.com/login.aspx?authtype=ip,guest&direct=true&custid="+
d+"&db=edspub&groupid=main&profile=eds&plp=1");$(".db-entry").each(function(){var c=$(this);c.data("college")&&-1===c.data("college").indexOf(g)&&c.hide()});$(".db-name:contains(Films on Demand)").attr("href","http://0-fod.infobase.com.lasiii.losrios.edu/PortalPlayLists.aspx?wid="+f);setTimeout(function(){$("#library-help-content a").on("click",function(){var d=$(this);d.text().length?d=d.text():d.find("img").length?(b=d.find("img"),d=b.attr("alt").length?b.attr("alt"):""):d="";ga("send","event",
""+c+" box","click",d)})},800);showDBNos()}
function checkCookies(c){"homeLibrary"===c?(c=getCookie(c),"arc"===c?homeLibEls("arc"):"scc"===c?homeLibEls("scc"):"crc"===c?homeLibEls("crc"):"flc"===c?homeLibEls("flc"):$.get("help/unknown.php",function(c){$("#library-help-content").html(c)},"html"),console.log(c)):"newWindowLinks"===c?"yes"===getCookie(c)&&($("#newwin-check").prop("checked",!0),$(".db-name, .headnav a, #pubfinder a, #multi-search").attr("target","_blank"),setTimeout(function(){$("#library-help-content a").attr("target","_blank")},
1E3)):"lrGAOptOut"===c&&"y"===getCookie(c)&&($("#ga-status").prepend(" You have opted out of tracking. "),c=$("#ga-opt-out"),c.html(c.html().replace(" &amp; opt out","")))}
$("#newwin-check").on("click",function(){var c=$(this),d=$(".db-name, .search-one-db, #library-help-content a, .headnav a, #pubfinder a");c.is(":checked")?(setCookie("newWindowLinks","yes",30),d.attr("target","_blank"),$("#search-db").prop("checked",!1)&&$("#multi-search").attr("target","_blank")):(setCookie("newWindowLinks","no",1),d.removeAttr("target"),$("#multi-search").removeAttr("target"))});checkCookies("homeLibrary");checkCookies("newWindowLinks");checkCookies("lrGAOptOut");
$("#choose-library button").on("click",function(){$('script[src*="libraryh3lp"]').remove();$(".zopim").remove();$(".db-entry").show();var c=$(this).text();homeLibEls(c)});var currentURL=location.href;currentURL.match("college=")&&(currentURL=currentURL.replace(/(\?|&)college.*/,""),replaceURL=currentURL.replace(/.*losrios.edu\//,""),history.replaceState(currentURL,document.title,currentURL));
$(".open-db-search").on("click",function(){var c=$(this),d="";"yes"===getCookie("newWindowLinks")&&(d=' target="_blank" ');var f=c.nextAll("h3").find(".db-name"),g=f.text(),h=g.toLowerCase(),h=h.replace(/ /g,"-"),k=c.nextAll("h3").find(".vendor").text().toLowerCase(),k=k.replace(/[\(\):]/g,""),k=k.replace(/ /g,"-"),m=document.getElementById(h);$(".open-db-search").removeClass("hidden");var l=$(".search-one-db");m?(c.addClass("hidden"),l.hide(),c.next(l).fadeIn(),document.getElementById(h).focus()):
(l.hide(),f=f.attr("href"),m="",-1<f.indexOf("ehost")&&(m='<input type="hidden" name="ehost" value="'+f.split(/[= ]+/).pop()+'">'),d="<form onsubmit=\"ga('send', 'event', 'quick search', 'submit', '"+g+'\');" class="search-one-db" method="post" action="search-db.php" '+d+'><label class="search-one-db-l" for="'+h+'">Search '+g+'</label><input name="query" id="'+h+'" type="text"><input type="hidden" name="vendor" value="'+k+'"><input type="hidden" name="db-name" value="'+h+'">'+m+'<button class="search-btn" type="submit"><img height="16" width="16" src="search.png" alt="search"></button></form>',
c.addClass("hidden"),c.after(d),c.next(l).fadeIn(),c.next(l).find(":text").focus())});$("#ga-opt-out").on("click",function(c){c.preventDefault();var d=screen.availHeight;c=.7*d;var d=.15*d,f=screen.width/2-350,g=$(this).attr("href");window.open(g,"optOut","height="+c+", width=700, menubar=no, left="+f+", top="+d+"").focus()});$("#remove-proxy").on("click",function(){removeProxy();setCookie("dbProxy","removed",null)});var proxySet=getCookie("dbProxy");"removed"===proxySet&&removeProxy();
function removeProxy(){$(".db-name").each(function(){var c=$(this).attr("href");if(-1<c.indexOf("//0-")){var f=c.replace("//0-","//");-1<c.indexOf("https")&&(c=f.split(".edu/"),c[0]=c[0].replace(/\-/g,".").replace(/$/,".edu/"),f=c.join(""),console.log(f));f=f.replace(".lasiii.losrios.edu","");$(this).attr("href",f)}});var c=$("#proxy");$("#remove-proxy").attr("id","add-proxy").html("&#8635; Restore proxy string to URLs");$('<p class="special">Proxy string has been removed from URLs; databases may not be accessible.</p>').hide().prependTo(c).fadeIn();
$("#add-proxy").on("click",function(){setCookie("dbProxy","restored",null);c.find("p").remove();c.fadeOut("fast");location.reload()})};