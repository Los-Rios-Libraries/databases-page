/*
 jQuery UI - v1.12.1 - 2017-10-04
 http://jqueryui.com
 Includes: widget.js, position.js, keycode.js, unique-id.js, widgets/autocomplete.js, widgets/menu.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Position 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI Keycode 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Unique ID 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Menu 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Autocomplete 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){c.ui=c.ui||{};c.ui.version="1.12.1";var f=0,h=Array.prototype.slice;c.cleanData=function(a){return function(d){var e,g,k;for(k=0;null!=(g=d[k]);k++)try{(e=c._data(g,"events"))&&e.remove&&c(g).triggerHandler("remove")}catch(l){}a(d)}}(c.cleanData);c.widget=function(a,d,e){var g={},k=a.split(".")[0];a=a.split(".")[1];var l=k+"-"+a;e||(e=d,d=c.Widget);c.isArray(e)&&(e=c.extend.apply(null,[{}].concat(e)));
c.expr[":"][l.toLowerCase()]=function(a){return!!c.data(a,l)};c[k]=c[k]||{};var f=c[k][a];var h=c[k][a]=function(a,c){if(!this._createWidget)return new h(a,c);arguments.length&&this._createWidget(a,c)};c.extend(h,f,{version:e.version,_proto:c.extend({},e),_childConstructors:[]});var q=new d;q.options=c.widget.extend({},q.options);c.each(e,function(a,e){c.isFunction(e)?g[a]=function(){function c(){return d.prototype[a].apply(this,arguments)}function g(c){return d.prototype[a].apply(this,c)}return function(){var a=
this._super,d=this._superApply;this._super=c;this._superApply=g;var u=e.apply(this,arguments);this._super=a;this._superApply=d;return u}}():g[a]=e});h.prototype=c.widget.extend(q,{widgetEventPrefix:f?q.widgetEventPrefix||a:a},g,{constructor:h,namespace:k,widgetName:a,widgetFullName:l});f?(c.each(f._childConstructors,function(a,d){var e=d.prototype;c.widget(e.namespace+"."+e.widgetName,h,d._proto)}),delete f._childConstructors):d._childConstructors.push(h);c.widget.bridge(a,h);return h};c.widget.extend=
function(a){for(var d=h.call(arguments,1),e=0,g=d.length,k,l;e<g;e++)for(k in d[e])l=d[e][k],d[e].hasOwnProperty(k)&&void 0!==l&&(c.isPlainObject(l)?a[k]=c.isPlainObject(a[k])?c.widget.extend({},a[k],l):c.widget.extend({},l):a[k]=l);return a};c.widget.bridge=function(a,d){var e=d.prototype.widgetFullName||a;c.fn[a]=function(g){var k="string"===typeof g,l=h.call(arguments,1),f=this;k?this.length||"instance"!==g?this.each(function(){var d=c.data(this,e);if("instance"===g)return f=d,!1;if(!d)return c.error("cannot call methods on "+
a+" prior to initialization; attempted to call method '"+g+"'");if(!c.isFunction(d[g])||"_"===g.charAt(0))return c.error("no such method '"+g+"' for "+a+" widget instance");var k=d[g].apply(d,l);if(k!==d&&void 0!==k)return f=k&&k.jquery?f.pushStack(k.get()):k,!1}):f=void 0:(l.length&&(g=c.widget.extend.apply(null,[g].concat(l))),this.each(function(){var a=c.data(this,e);a?(a.option(g||{}),a._init&&a._init()):c.data(this,e,new d(g,this))}));return f}};c.Widget=function(){};c.Widget._childConstructors=
[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();this.classesElementLookup={};d!==this&&(c.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=
c(d.style?d.ownerDocument:d.document||d),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){var a=this;this._destroy();c.each(this.classesElementLookup,
function(c,e){a._removeClass(e,c)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function(){return this.element},option:function(a,d){var e=a,g;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof a){e={};var k=a.split(".");a=k.shift();if(k.length){var l=e[a]=c.widget.extend({},this.options[a]);for(g=0;g<k.length-
1;g++)l[k[g]]=l[k[g]]||{},l=l[k[g]];a=k.pop();if(1===arguments.length)return void 0===l[a]?null:l[a];l[a]=d}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];e[a]=d}}this._setOptions(e);return this},_setOptions:function(a){for(var c in a)this._setOption(c,a[c]);return this},_setOption:function(a,c){"classes"===a&&this._setOptionClasses(c);this.options[a]=c;"disabled"===a&&this._setOptionDisabled(c);return this},_setOptionClasses:function(a){var d;for(d in a){var e=
this.classesElementLookup[d];if(a[d]!==this.options.classes[d]&&e&&e.length){var g=c(e.get());this._removeClass(e,d);g.addClass(this._classes({element:g,keys:d,classes:a,add:!0}))}}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},
_classes:function(a){function d(d,l){var k;for(k=0;k<d.length;k++){var f=g.classesElementLookup[d[k]]||c();f=a.add?c(c.unique(f.get().concat(a.element.get()))):c(f.not(a.element).get());g.classesElementLookup[d[k]]=f;e.push(d[k]);l&&a.classes[d[k]]&&e.push(a.classes[d[k]])}}var e=[],g=this;a=c.extend({element:this.element,classes:this.options.classes||{}},a);this._on(a.element,{remove:"_untrackClassesElement"});a.keys&&d(a.keys.match(/\S+/g)||[],!0);a.extra&&d(a.extra.match(/\S+/g)||[]);return e.join(" ")},
_untrackClassesElement:function(a){var d=this;c.each(d.classesElementLookup,function(e,g){-1!==c.inArray(a.target,g)&&(d.classesElementLookup[e]=c(g.not(a.target).get()))})},_removeClass:function(a,c,e){return this._toggleClass(a,c,e,!1)},_addClass:function(a,c,e){return this._toggleClass(a,c,e,!0)},_toggleClass:function(a,c,e,g){g="boolean"===typeof g?g:e;var d="string"===typeof a||null===a;a={extra:d?c:e,keys:d?a:c,element:d?this.element:a,add:g};a.element.toggleClass(this._classes(a),g);return this},
_on:function(a,d,e){var g,k=this;"boolean"!==typeof a&&(e=d,d=a,a=!1);e?(d=g=c(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,g=this.widget());c.each(e,function(e,f){function l(){if(a||!0!==k.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof f?k[f]:f).apply(k,arguments)}"string"!==typeof f&&(l.guid=f.guid=f.guid||l.guid||c.guid++);var h=e.match(/^([\w:-]*)\s*(.*)$/),m=h[1]+k.eventNamespace;if(h=h[2])g.on(m,h,l);else d.on(m,l)})},_off:function(a,d){d=(d||
"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(d).off(d);this.bindings=c(this.bindings.not(a).get());this.focusable=c(this.focusable.not(a).get());this.hoverable=c(this.hoverable.not(a).get())},_delay:function(a,c){var d=this;return setTimeout(function(){return("string"===typeof a?d[a]:a).apply(d,arguments)},c||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){this._addClass(c(a.currentTarget),null,"ui-state-hover")},mouseleave:function(a){this._removeClass(c(a.currentTarget),
null,"ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){this._addClass(c(a.currentTarget),null,"ui-state-focus")},focusout:function(a){this._removeClass(c(a.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,d,e){var g,k=this.options[a];e=e||{};d=c.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d.target=this.element[0];if(a=d.originalEvent)for(g in a)g in d||(d[g]=a[g]);this.element.trigger(d,
e);return!(c.isFunction(k)&&!1===k.apply(this.element[0],[d].concat(e))||d.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,d){c.Widget.prototype["_"+a]=function(e,g,k){"string"===typeof g&&(g={effect:g});var f=g?!0===g||"number"===typeof g?d:g.effect||d:a;g=g||{};"number"===typeof g&&(g={duration:g});var h=!c.isEmptyObject(g);g.complete=k;g.delay&&e.delay(g.delay);if(h&&c.effects&&c.effects.effect[f])e[a](g);else if(f!==a&&e[f])e[f](g.duration,g.easing,k);else e.queue(function(d){c(this)[a]();
k&&k.call(e[0]);d()})}});(function(){function a(a,c,d){return[parseFloat(a[0])*(B.test(a[0])?c/100:1),parseFloat(a[1])*(B.test(a[1])?d/100:1)]}function d(a){var d=a[0];return 9===d.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:c.isWindow(d)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var e,g=Math.max,k=Math.abs,
f=/left|center|right/,h=/top|center|bottom/,t=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,B=/%$/,E=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==e)return e;var a=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");var d=a.children()[0];c("body").append(a);var g=d.offsetWidth;a.css("overflow","scroll");d=d.offsetWidth;g===d&&(d=a[0].clientWidth);a.remove();return e=g-d},getScrollInfo:function(a){var d=a.isWindow||
a.isDocument?"":a.element.css("overflow-x"),e=a.isWindow||a.isDocument?"":a.element.css("overflow-y");d="scroll"===d||"auto"===d&&a.width<a.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&a.height<a.element[0].scrollHeight?c.position.scrollbarWidth():0,height:d?c.position.scrollbarWidth():0}},getWithinInfo:function(a){var d=c(a||window),e=c.isWindow(d[0]),g=!!d[0]&&9===d[0].nodeType;return{element:d,isWindow:e,isDocument:g,offset:e||g?{left:0,top:0}:c(a).offset(),scrollLeft:d.scrollLeft(),
scrollTop:d.scrollTop(),width:d.outerWidth(),height:d.outerHeight()}}};c.fn.position=function(e){if(!e||!e.of)return E.apply(this,arguments);e=c.extend({},e);var l=c(e.of),y=c.position.getWithinInfo(e.within),u=c.position.getScrollInfo(y),m=(e.collision||"flip").split(" "),D={};var z=d(l);l[0].preventDefault&&(e.at="left top");var w=z.width;var x=z.height;var A=z.offset;var p=c.extend({},A);c.each(["my","at"],function(){var a=(e[this]||"").split(" ");1===a.length&&(a=f.test(a[0])?a.concat(["center"]):
h.test(a[0])?["center"].concat(a):["center","center"]);a[0]=f.test(a[0])?a[0]:"center";a[1]=h.test(a[1])?a[1]:"center";var c=t.exec(a[0]);var d=t.exec(a[1]);D[this]=[c?c[0]:0,d?d[0]:0];e[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]});1===m.length&&(m[1]=m[0]);"right"===e.at[0]?p.left+=w:"center"===e.at[0]&&(p.left+=w/2);"bottom"===e.at[1]?p.top+=x:"center"===e.at[1]&&(p.top+=x/2);var C=a(D.at,w,x);p.left+=C[0];p.top+=C[1];return this.each(function(){var d,f=c(this),h=f.outerWidth(),r=f.outerHeight(),v=
parseInt(c.css(this,"marginLeft"),10)||0,z=parseInt(c.css(this,"marginTop"),10)||0,t=h+v+(parseInt(c.css(this,"marginRight"),10)||0)+u.width,F=r+z+(parseInt(c.css(this,"marginBottom"),10)||0)+u.height,n=c.extend({},p),q=a(D.my,f.outerWidth(),f.outerHeight());"right"===e.my[0]?n.left-=h:"center"===e.my[0]&&(n.left-=h/2);"bottom"===e.my[1]?n.top-=r:"center"===e.my[1]&&(n.top-=r/2);n.left+=q[0];n.top+=q[1];var B={marginLeft:v,marginTop:z};c.each(["left","top"],function(a,d){if(c.ui.position[m[a]])c.ui.position[m[a]][d](n,
{targetWidth:w,targetHeight:x,elemWidth:h,elemHeight:r,collisionPosition:B,collisionWidth:t,collisionHeight:F,offset:[C[0]+q[0],C[1]+q[1]],my:e.my,at:e.at,within:y,elem:f})});e.using&&(d=function(a){var c=A.left-n.left,d=c+w-h,y=A.top-n.top,u=y+x-r,v={target:{element:l,left:A.left,top:A.top,width:w,height:x},element:{element:f,left:n.left,top:n.top,width:h,height:r},horizontal:0>d?"left":0<c?"right":"center",vertical:0>u?"top":0<y?"bottom":"middle"};w<h&&k(c+d)<w&&(v.horizontal="center");x<r&&k(y+
u)<x&&(v.vertical="middle");g(k(c),k(d))>g(k(y),k(u))?v.important="horizontal":v.important="vertical";e.using.call(this,a,v)});f.offset(c.extend(n,{using:d}))})};c.ui.position={fit:{left:function(a,c){var d=c.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,k=a.left-c.collisionPosition.marginLeft;d=e-k;var h=k+c.collisionWidth-f-e;c.collisionWidth>f?0<d&&0>=h?(e=a.left+d+c.collisionWidth-f-e,a.left+=d-e):a.left=0<h&&0>=d?e:d>h?e+f-c.collisionWidth:e:a.left=0<d?a.left+d:0<h?a.left-h:g(a.left-
k,a.left)},top:function(a,c){var d=c.within,e=d.isWindow?d.scrollTop:d.offset.top,f=c.within.height,k=a.top-c.collisionPosition.marginTop;d=e-k;var h=k+c.collisionHeight-f-e;c.collisionHeight>f?0<d&&0>=h?(e=a.top+d+c.collisionHeight-f-e,a.top+=d-e):a.top=0<h&&0>=d?e:d>h?e+f-c.collisionHeight:e:a.top=0<d?a.top+d:0<h?a.top-h:g(a.top-k,a.top)}},flip:{left:function(a,c){var d=c.within,e=d.offset.left+d.scrollLeft,g=d.width,f=d.isWindow?d.scrollLeft:d.offset.left,h=a.left-c.collisionPosition.marginLeft;
d=h-f;var l=h+c.collisionWidth-g-f;h="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0;var m="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,r=-2*c.offset[0];if(0>d){if(e=a.left+h+m+r+c.collisionWidth-g-e,0>e||e<k(d))a.left+=h+m+r}else 0<l&&(e=a.left-c.collisionPosition.marginLeft+h+m+r-f,0<e||k(e)<l)&&(a.left+=h+m+r)},top:function(a,c){var d=c.within,e=d.offset.top+d.scrollTop,g=d.height,f=d.isWindow?d.scrollTop:d.offset.top,h=a.top-c.collisionPosition.marginTop;d=h-
f;var l=h+c.collisionHeight-g-f;h="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0;var m="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,t=-2*c.offset[1];if(0>d){if(e=a.top+h+m+t+c.collisionHeight-g-e,0>e||e<k(d))a.top+=h+m+t}else 0<l&&(e=a.top-c.collisionPosition.marginTop+h+m+t-f,0<e||k(e)<l)&&(a.top+=h+m+t)}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,
arguments);c.ui.position.fit.top.apply(this,arguments)}}}})();c.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};c.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.ui.safeActiveElement=function(a){try{var c=
a.activeElement}catch(e){c=a.body}c||(c=a.body);c.nodeName||(c=a.body);return c};c.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},
"click .ui-menu-item":function(a){var d=c(a.target),e=c(c.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&e.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var d=
c(a.target).closest(".ui-menu-item"),e=c(a.currentTarget);d[0]===e[0]&&(this._removeClass(e.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(a,e))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,c){var d=this.active||this.element.find(this.options.items).eq(0);c||this.focus(a,d)},blur:function(a){this._delay(function(){c.contains(this.element[0],c.ui.safeActiveElement(this.document[0]))||this.collapseAll(a)})},keydown:"_keydown"});this.refresh();
this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var a=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();a.children().each(function(){var a=
c(this);a.data("ui-menu-submenu-caret")&&a.remove()})},_keydown:function(a){var d=!0;switch(a.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(a);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case c.ui.keyCode.HOME:this._move("first","first",a);break;case c.ui.keyCode.END:this._move("last","last",a);break;case c.ui.keyCode.UP:this.previous(a);break;case c.ui.keyCode.DOWN:this.next(a);break;case c.ui.keyCode.LEFT:this.collapse(a);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&
this.expand(a);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(a);break;case c.ui.keyCode.ESCAPE:this.collapse(a);break;default:d=!1;var e=this.previousFilter||"";var g=!1;var f=96<=a.keyCode&&105>=a.keyCode?(a.keyCode-96).toString():String.fromCharCode(a.keyCode);clearTimeout(this.filterTimer);f===e?g=!0:f=e+f;e=this._filterMenuItems(f);e=g&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e;e.length||(f=String.fromCharCode(a.keyCode),e=this._filterMenuItems(f));
e.length?(this.focus(a,e),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}d&&a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a=this,d=this.options.icons.submenu;var e=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);
var g=e.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=c(this),g=e.prev(),f=c("<span>").data("ui-menu-submenu-caret",!0);a._addClass(f,"ui-menu-icon","ui-icon "+d);g.attr("aria-haspopup","true").prepend(f);e.attr("aria-labelledby",g.attr("id"))});this._addClass(g,"ui-menu","ui-widget ui-widget-content ui-front");g=e.add(this.element).find(this.options.items);g.not(".ui-menu-item").each(function(){var d=c(this);a._isDivider(d)&&
a._addClass(d,"ui-menu-divider","ui-widget-content")});e=g.not(".ui-menu-item, .ui-menu-divider");var f=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(e,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper");g.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,c){if("icons"===
a){var d=this.element.find(".ui-menu-icon");this._removeClass(d,null,this.options.icons.submenu)._addClass(d,null,c.submenu)}this._super(a,c)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,c){this.blur(a,a&&"focus"===a.type);this._scrollIntoView(c);this.active=c.first();var d=this.active.children(".ui-menu-item-wrapper");this._addClass(d,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",
d.attr("id"));d=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(d,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);d=c.children(".ui-menu");d.length&&a&&/^mouse/.test(a.type)&&this._startOpening(d);this.activeMenu=c.parent();this._trigger("focus",a,{item:c})},_scrollIntoView:function(a){if(this._hasScroll()){var d=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0;var e=parseFloat(c.css(this.activeMenu[0],
"paddingTop"))||0;d=a.offset().top-this.activeMenu.offset().top-d-e;e=this.activeMenu.scrollTop();var g=this.activeMenu.height();a=a.outerHeight();0>d?this.activeMenu.scrollTop(e+d):d+a>g&&this.activeMenu.scrollTop(e+d-g+a)}},blur:function(a,c){c||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(a){var d=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,d){clearTimeout(this.timer);this.timer=this._delay(function(){var e=d?this.element:c(a&&a.target).closest(this.element.find(".ui-menu"));
e.length||(e=this.element);this._close(e);this.blur(a);this._removeClass(e.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!c(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var c=this.active&&
this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(a,c))},expand:function(a){var c=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(a,c)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,c,e){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[c]());this.focus(e,d)},nextPage:function(a){var d;if(!this.active)this.next(a);else if(!this.isLastItem())if(this._hasScroll()){var e=this.active.offset().top;var g=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=
c(this);return 0>d.offset().top-e-g});this.focus(a,d)}else this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(a){var d;if(!this.active)this.next(a);else if(!this.isFirstItem())if(this._hasScroll()){var e=this.active.offset().top;var g=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=c(this);return 0<d.offset().top-e+g});this.focus(a,d)}else this.focus(a,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(a){this.active=this.active||c(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,d)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(c.trim(c(this).children(".ui-menu-item-wrapper").text()))})}});
c.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,d,e,g=this.element[0].nodeName.toLowerCase(),f="textarea"===g;g="input"===g;this.isMultiLine=f||!g&&this._isContentEditable(this.element);this.valueMethod=this.element[f||
g?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly"))d=e=a=!0;else{d=e=a=!1;var g=c.ui.keyCode;switch(f.keyCode){case g.PAGE_UP:a=!0;this._move("previousPage",f);break;case g.PAGE_DOWN:a=!0;this._move("nextPage",f);break;case g.UP:a=!0;this._keyEvent("previous",f);break;case g.DOWN:a=!0;this._keyEvent("next",f);break;case g.ENTER:this.menu.active&&(a=!0,f.preventDefault(),
this.menu.select(f));break;case g.TAB:this.menu.active&&this.menu.select(f);break;case g.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(f),f.preventDefault());break;default:d=!0,this._searchTimeout(f)}}},keypress:function(e){if(a)a=!1,this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault();else if(!d){var f=c.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:this._move("previousPage",e);break;case f.PAGE_DOWN:this._move("nextPage",e);break;
case f.UP:this._keyEvent("previous",e);break;case f.DOWN:this._keyEvent("next",e)}}},input:function(a){e?(e=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=c("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete",
"ui-front");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(a,d){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){c(a.target).trigger(a.originalEvent)});return}var e=d.item.data("ui-autocomplete-item");
!1!==this._trigger("focus",a,{item:e})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value);(e=d.item.attr("aria-label")||e.value)&&c.trim(e).length&&(this.liveRegion.children().hide(),c("<div>").text(e).appendTo(this.liveRegion))},menuselect:function(a,d){var e=d.item.data("ui-autocomplete-item"),f=this.previous;this.element[0]!==c.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=f,this._delay(function(){this.previous=f;this.selectedItem=e}));
!1!==this._trigger("select",a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);this.selectedItem=e}});this.liveRegion=c("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();
this.liveRegion.remove()},_setOption:function(a,c){this._super(a,c);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&c&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var d=this.menu.element[0];return a.target===this.element[0]||a.target===d||c.contains(d,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?c(a):
this.document.find(a).eq(0));a&&a[0]||(a=this.element.closest(".ui-front, dialog"));a.length||(a=this.document[0].body);return a},_initSource:function(){var a=this;if(c.isArray(this.options.source)){var d=this.options.source;this.source=function(a,e){e(c.ui.autocomplete.filter(d,a.term))}}else if("string"===typeof this.options.source){var e=this.options.source;this.source=function(d,f){a.xhr&&a.xhr.abort();a.xhr=c.ajax({url:e,data:d,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}}else this.source=
this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var c=this.term===this._value(),e=this.menu.element.is(":visible"),f=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!c||c&&!e&&!f)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,c){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(c);if(!1!==this._trigger("search",c))return this._search(a)},_search:function(a){this.pending++;
this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return c.proxy(function(c){a===this.requestIndex&&this.__response(c);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},
close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:c.map(a,function(a){return"string"===typeof a?{label:a,value:a}:c.extend({},a,{label:a.label||a.value,
value:a.value||a.label})})},_suggest:function(a){var d=this.menu.element.empty();this._renderMenu(d,a);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(c.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,d){var e=this;c.each(d,
function(c,d){e._renderItemData(a,d)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-autocomplete-item",c)},_renderItem:function(a,d){return c("<li>").append(c("<div>").text(d.label)).appendTo(a)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element},
_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,c){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,c),c.preventDefault()},_isContentEditable:function(a){if(!a.length)return!1;var c=a.prop("contentEditable");return"inherit"===c?this._isContentEditable(a.parent()):"true"===c}});c.extend(c.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,d){var e=new RegExp(c.ui.autocomplete.escapeRegex(d),
"i");return c.grep(a,function(a){return e.test(a.label||a.value||a)})}});c.widget("ui.autocomplete",c.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){this._superApply(arguments);if(!this.options.disabled&&!this.cancelSearch){var d=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults;this.liveRegion.children().hide();
c("<div>").text(d).appendTo(this.liveRegion)}}})});function showDBNos(){var c=$("#main .db-name:visible").length,f=$("#show-db-no");f.length&&(70>c?(dbNoS=c.toString(),$("#db-no").text(dbNoS),1===c&&f.html(f.html().replace("Databases","Database")),f.attr("class","show")):f.attr("class","hidden").attr("aria-hidden","true"))}
function defaultAuto(c,f){c.autocomplete({source:function(c,a){$.getJSON({url:"https://widgets.ebscohost.com/prod/simplekey/autocomplete/autocomp.php",data:{q:encodeURIComponent(c.term)}}).done(function(c){c=JSON.parse(c);var d=[];c=$.map(c,function(a){return[a]})[2];for(var f=0;f<c.length;f++)d.push(c[f].term),a(d)}).fail(function(a,c,f){ga("send","event","eds autosuggest","error",f)})},select:function(h,a){a.item&&c.val(a.item.value);"quick"!==f?submitSearch(c.val()):c.closest("form").submit()}})}
$("#multi-search").on("submit",function(c){c.preventDefault();submitSearch($("#dbpage-query").val())});
function submitSearch(c){var f=/^(ebsco$|proquest|academic search complete|films on demand|cinahl|j( )?stor|ethnologue|gale (virtual|ebook)|gvrl|cq|onesearch|oxford art|grove|art( )?stor|ebooks|kanopy|google scholar|business source|opposing viewpoints|dailies|socindex|psycarticles|^eric$|education research complete|greenfile|omnigraphic|health reference series|pubmed|medline|naxos|newsbank|ovid|oxford english|oed|science( )?direct|kanopy|digital theat|masterfile)/i;ga("send","event","search","submit",
c);!0===/lex[ui]s(( )?nex[iu]s)?|nex[iu]s/.test(c)?location.href="special.php?pageTitle=nexis-uni":!0===f.test(c)?(console.log("found match"),location.href="index.php?az&query="+encodeURIComponent(c)):(c="https://www.library.losrios.edu/onesearch/?query="+encodeURIComponent(c),"yes"===getCookie("newWindowLinks")?window.open(c):location.href=c)}
$(function(){defaultAuto($("#dbpage-query"));$(".db-name").each(function(){for(var c=$(this).html().split(" "),a=/^Ahfs|^Apa$|Cinahl|Cq|Eric|^Mas$|Medline/,d=0;d<c.length;d++)a.test(c[d])?c[d]=c[d].toUpperCase():"Ebook"===c[d]&&(c[d]="eBook");c=c.join(" ");$(this).html(c)});var c=$("#main-nav"),f=$("#nav-label");781>$(window).width()&&c.addClass("hidden");f.on("click",function(){c.toggleClass("hidden")});$(".category").each(function(){var c=$(this);c.removeClass("active hidden");var a=c.find("li");
a.hasClass("active")&&a.is(":visible")?c.addClass("active"):c.addClass("hidden")});checkZeros();$("dt").prev("dd").addClass("last-dd");$("#trial-dbs .db-desc").each(function(){var c=$(this),a=c.html(),d=$.trim(a).substring(0,60).split(" ").slice(0,-1).join(" ")+'... <button class="trial-desc-exp" type="button">more</button>';c.html(d);c.show();$(".trial-desc-exp").on("click",function(){$(this).parent().html(a)})})});
$("#dbpage-query").on("focus",function(){var c=$(this),f=$("#form-remainder");showSearch(f,c);$("html").on("click",function(h){$(h.target).parents("#multi-search").length||f.hasClass("hidden")||hideSearch(f,c)})});$(".alpha").each(function(){0===$(this).find("li").length&&$(this).addClass("hidden")});
function checkZeros(){if(!$(".problem-description").length&&!$("#main .special").length&&($("#zero-notice").remove(),0===$("#main .active:visible").length)){var c=$("#main");c.append('<div id="zero-notice">There are no databases fitting the criteria you indicated. Sorry!</div>');c.append($("#multi-search"));$("#dbpage-query").addClass("form-emphasis");$("#form-remainder").removeClass("hidden")}}
function showSearch(c,f){f.addClass("form-emphasis");c.slideDown().removeClass("hidden");$("#dbpage-query-submit").removeClass("hidden");$("#form-closer").on("click",function(h){h.preventDefault();hideSearch(c,f)})}function hideSearch(c,f){$("#dbpage-query-submit").addClass("hidden");c.slideUp().addClass("hidden");f.removeClass("form-emphasis");f.on("click",function(){showSearch(c,f)})}
$("#main-nav li a").each(function(){var c=$("#title-cat").text(),f=$("#title-alpha").text().toLowerCase(),h=$(this),a=h.text();c!==a&&f!==a||h.addClass("current")});$(".format-links").each(function(){var c=$(this);c.find("a").text()===$("#title-format").text()&&c.addClass("current")});$(".db-name").on("click",function(){"_blank"!==$(this).attr("target")&&$("#loader").removeClass("hidden");var c=$(this).text();ga("send","event","databases","click",c)});
$("#subject-nav a").on("click",function(){ga("send","event","navigation","limit","subject")});$("#alpha-nav a").on("click",function(){ga("send","event","navigation","limit","alpha")});$("#show-all").on("click",function(){ga("send","event","button","click","show all")});$(".format-links a").on("click",function(){ga("send","event","navigation","limit","type")});$("#pubfinder a").on("click",function(){ga("send","event","link","click","Publication Finder")});
$("#type-filter button").on("click",function(){var c=$(this).text();ga("send","event","filters","click",c)});$("#dbpage-query").on("focus",function(){ga("send","event","search form","activate")});function setCookie(c){var f="";c.exp&&(f=86400,"hours"===c.unit?f/=24:"minutes"===c.unit?f=60:"months"===c.unit&&(f*=30),f="max-age="+c.exp*f+";");document.cookie=c.name+"="+c.value+"; "+f+"path=/;domain=losrios.edu"}
$(".headnav a, #choose-library button").on("click",function(){var c=$(this).text().toLowerCase();setCookie({name:"homeLibrary",value:c,exp:30})});function getCookie(c){c+="=";for(var f=document.cookie.split(";"),h=0;h<f.length;h++){for(var a=f[h];" "==a.charAt(0);)a=a.substring(1);if(0===a.indexOf(c))return a.substring(c.length,a.length)}return""}
function homeLibEls(c){var f={arc:{cust:"amerriv",fod:"240535",gale:"sacr22807",singleCol:"a"},crc:{cust:"cosum",fod:"237206",gale:"sacr73031",singleCol:"c"},flc:{cust:"ns015092",fod:"237742",gale:"sacr88293",singleCol:"f"},scc:{cust:"sacram",fod:"106093",gale:"cclc_sac",singleCol:"s"}};$("#"+c+"-link").addClass("homelib");var h=function(a){a=a.split("-");var c=new Date;c.setFullYear(a[0],a[1]-1,a[2]);return c},a=new Date;$(".db-entry").each(function(){var d=$(this);d.data("college")&&-1===d.data("college").indexOf(f[c].singleCol)&&
d.hide();if(d.data("expiration")&&""!==d.data("expiration")){var e=h(d.data("expiration"));e.setHours(23,59,59);a>e&&d.hide()}d.data("startdate")&&""!==d.data("startdate")&&(e=h(d.data("startdate")),e.setHours(0),a<e?(e=d.find(".db-name"),e.hide().after(e.text()),d.find(".open-db-search").length&&d.find(".open-db-search").hide()):d.find(".start-note").hide())});0===$("#trial-dbs .db-entry:visible").length&&$("#trial-dbs").hide();$(".db-name:contains(OneSearch)").attr("href","https://caccl-lrccd.primo.exlibrisgroup.com/discovery/search?vid=01CACCL_LRCCD:"+
c);$(".db-name:contains(Films on Demand)").attr("href","https://ezproxy.losrios.edu/login?url=http://fod.infobase.com/PortalPlayLists.aspx?wid="+f[c].fod).data("proxy",!0);setTimeout(function(){$("#library-help-content a").on("click",function(){var a=$(this);a.text().length?a=a.text():a.find("img").length?(b=a.find("img"),a=b.attr("alt").length?b.attr("alt"):""):a="";ga("send","event",""+c+" box","click",a)})},800);showDBNos()}
function checkCookies(c){"homeLibrary"===c?((c=getCookie(c))?homeLibEls(c):showDBNos(),console.log(c)):"newWindowLinks"===c?"yes"===getCookie(c)&&($("#newwin-check").prop("checked",!0),$(".db-name, .headnav a, #pubfinder a, #multi-search").attr("target","_blank"),setTimeout(function(){$("#library-help-content a").attr("target","_blank")},1E3)):"lrGAOptOut"===c&&"y"===getCookie(c)&&($("#ga-status").prepend(" You have opted out of tracking. "),c=$("#ga-opt-out"),c.html(c.html().replace(" &amp; opt out",
"")))}$("#newwin-check").on("click",function(){var c=$(this),f=$(".db-name, .search-one-db, #library-help-content a, .headnav a, #pubfinder a");c.is(":checked")?(setCookie({name:"newWindowLinks",value:"yes",exp:30}),f.attr("target","_blank"),$("#search-db").prop("checked",!1)&&$("#multi-search").attr("target","_blank")):(setCookie({name:"newWindowLinks",value:"no",exp:1}),f.removeAttr("target"),$("#multi-search").removeAttr("target"))});checkCookies("homeLibrary");checkCookies("newWindowLinks");checkCookies("lrGAOptOut");
$("#choose-library button").on("click",function(){var c="&";""===location.search&&(c="?");location.href="https://"+location.hostname+location.pathname+location.search+c+"college="+$(this).text()});var currentURL=location.href;currentURL.match("college=")&&(currentURL=currentURL.replace(/(\?|&)college.*/,""),history.replaceState(currentURL,document.title,currentURL));currentURL.match(/logged(in|out)/)&&(currentURL=currentURL.replace(/\?logged.*/,""),history.replaceState(currentURL,document.title,currentURL));
$(".open-db-search").on("click",function(){var c=$(this),f="";"yes"===getCookie("newWindowLinks")&&(f=' target="_blank" ');var h=c.nextAll("h3").find(".db-name"),a=h.text(),d=a.toLowerCase();d=d.replace(/ /g,"-");var e=c.nextAll("h3").find(".vendor").text().toLowerCase();e=e.replace(/[\(\):]/g,"");e=e.replace(/ /g,"-");var g=document.getElementById(d);$(".open-db-search").removeClass("hidden");var k=$(".search-one-db");if(g)c.addClass("hidden"),k.hide(),c.next(k).fadeIn(),document.getElementById(d).focus();
else{k.hide();g=h.attr("href");var l="";-1<g.indexOf("ehost")&&(l='<input type="hidden" name="ehost" value="'+g.split(/[= ]+/).pop()+'">');f="<form onsubmit=\"ga('send', 'event', 'quick search', 'submit', '"+a+'\');" class="search-one-db" method="post" action="search-db.php" '+f+'><label class="search-one-db-l" for="'+d+'">Search '+a+'</label><input name="query" id="'+d+'" type="text"><input type="hidden" name="vendor" value="'+e+'"><input type="hidden" name="db-name" value="'+d+'">'+l+'<input type="hidden" name="db-url" value="'+
encodeURIComponent(h.attr("href"))+'"><button class="search-btn" type="submit"><img height="16" width="16" src="search.png" alt="search"></button></form>';c.addClass("hidden");c.after(f);c.next(k).fadeIn();c=c.next(k).find(":text");c.focus();defaultAuto(c,"quick")}});$("#ga-opt-out").on("click",function(c){c.preventDefault();var f=screen.availHeight;c=.7*f;f*=.15;var h=screen.width/2-350,a=$(this).attr("href");window.open(a,"optOut","height="+c+", width=700, menubar=no, left="+h+", top="+f).focus()});
$("#remove-proxy").on("click",function(){removeProxy();setCookie({name:"dbProxy",value:"removed"})});
$("#force-login").on("click",function(){setCookie({name:"ezproxyrequireauthenticate2",value:"2"});$(this).hide();$('<p class="special" style="display:none;">This computer will now see login prompts when accessing resources. <button id="reset-login" type="button">Reset </button></p>').insertAfter($(this)).fadeIn();$("#reset-login").on("click",function(){resetLogin($(this))});$("#remove-proxy").fadeOut();$("#sso").show()});var proxySet=getCookie("dbProxy");"removed"===proxySet&&removeProxy();
function resetLogin(c){setCookie({name:"ezproxyrequireauthenticate2",value:"0"});c.closest("aside").fadeOut();$("#sso").fadeOut();$("#remove-proxy").fadeIn()}$("#reset-login").on("click",function(){resetLogin($(this))});$("#reset-login").length&&$("#sso").show();
function removeProxy(){$(".db-name").each(function(){var c=$(this).attr("href");if(-1<c.indexOf("//0-")){var h=c.replace("//0-","//");-1<c.indexOf("https")&&(c=h.split(".edu/"),c[0]=c[0].replace(/\-/g,".").replace(/$/,".edu/"),h=c.join(""),console.log(h));h=h.replace(".lasiii.losrios.edu","");$(this).attr("href",h)}else-1<c.indexOf("ezproxy")&&(h=c.replace(/https:\/\/ezproxy\.losrios\.edu\/login\?(auth=custom&)?url=/,""),$(this).attr("href",h),$("#sso").hide())});var c=$("#proxy");$("#remove-proxy").attr("id",
"add-proxy").html("&#8635; Restore proxy string to URLs");$('<p class="special">Proxy string has been removed from URLs; databases may not be accessible.</p>').hide().prependTo(c).fadeIn();$("#add-proxy").on("click",function(){setCookie({name:"dbProxy",value:"restored"});c.find("p").remove();c.fadeOut("fast");location.reload()})}$("#disable-sso").on("click",function(){location.href="https://ezproxy.losrios.edu/login?auth=custom"});
(function(){""!==getCookie("ezproxy")&&($("#proxy-status").html("in"),$("#proxy-toggle").html("Sign out"))})();$("#proxy-toggle").on("click",function(){""!==getCookie("ezproxy")?location.href="https://ezproxy.losrios.edu/logout":location.href="https://ezproxy.losrios.edu"});(function(){var c=$(".proxy-dialog");c.length&&(c.fadeIn(),setTimeout(function(){c.fadeOut()},1500))})();
function showNote(c){if("hide"!==getCookie("dbHideAlert")){var f=new Date,h=function(a){a=a.split("-");return new Date(a)},a=new Date(1970);c.start&&(a=h(c.start));var d=new Date(3E3);c.end&&(d=h(c.end));c=c.message||"";f>=a&&f<=d&&""!==c&&($('<p id="db-alert" role="alert" style="display:none;">'+c+'<button type="button" id="message-dismiss">Hide this message</button></p>').prependTo($("#main")).fadeIn(),$("#message-dismiss").on("click",function(){$("#db-alert").fadeOut();setCookie({name:"dbHideAlert",
value:"hide",exp:2})}))}};